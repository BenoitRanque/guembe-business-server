(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["6cded9b4"],{"4e53":function(i,t,e){var n=e("e916");"string"===typeof n&&(n=[[i.i,n,""]]),n.locals&&(i.exports=n.locals);var a=e("499e").default;a("0d7b84c8",n,!1,{sourceMap:!1})},5034:function(i,t,e){"use strict";e.r(t);var n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("q-page",[e("q-btn",{on:{click:function(t){i.showCreateHolidayDialog=!0}}},[i._v("Crear Feriado nuevo")]),e("pre",[i._v(i._s(i.holidays))]),e("dialog-window",{attrs:{title:"Crear Feriados"},model:{value:i.showCreateHolidayDialog,callback:function(t){i.showCreateHolidayDialog=t},expression:"showCreateHolidayDialog"}},[e("create-holiday",{staticClass:"scroll"})],1)],1)},a=[],o=e("967e"),s=e.n(o),l=(e("96cf"),e("fa84")),r=e.n(l),d=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("q-form",{on:{submit:i.submit,reset:i.reset}},[e("div",{staticClass:"q-gutter-md q-pa-md"},[e("q-input",{attrs:{filled:"",required:"",label:"Nombre Privado",hint:"Nombre de uso interno"},model:{value:i.holiday.name,callback:function(t){i.$set(i.holiday,"name",t)},expression:"holiday.name"}}),e("q-input",{attrs:{filled:"",label:"Fecha",hint:"Fecha del feriado","lazy-rules":"",required:"",mask:"date",rules:["date"]},scopedSlots:i._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-calendar"}},[e("q-popup-proxy",[e("q-date",{attrs:{"today-btn":""},model:{value:i.holiday.date,callback:function(t){i.$set(i.holiday,"date",t)},expression:"holiday.date"}})],1)],1)]},proxy:!0}]),model:{value:i.holiday.date,callback:function(t){i.$set(i.holiday,"date",t)},expression:"holiday.date"}})],1),e("q-separator"),e("div",{staticClass:"row justify-around q-pa-md"},[e("q-btn",{attrs:{color:"secondary",flat:"",type:"reset"}},[i._v("reset")]),e("q-btn",{attrs:{color:"primary",type:"submit"}},[i._v("Crear")])],1),e("q-inner-loading",{attrs:{showing:i.loading}},[e("q-spinner")],1)],1)},c=[],m=e("f3e3"),u=e.n(m),h=(e("7f7f"),{name:"CreateHoliday",data:function(){return{loading:!1,holiday:{name:"",date:null}}},methods:{reset:function(){this.holiday.name="",this.holiday.date=null},submit:function(){this.$q.dialog({title:"Confirmar",message:"Este registro no puede modificicarse luego de la creacion",persistent:!0,cancel:!0}).onOk(this.createHoliday)},createHoliday:function(){var i=r()(s.a.mark(function i(){var t,e,n,a,o,l,r;return s.a.wrap(function(i){while(1)switch(i.prev=i.next){case 0:return t="mutation ($objects: [calendar_holiday_insert_input!]!) {\n        insert: insert_calendar_holiday (objects: $objects) {\n          affected_rows\n          holidays: returning {\n            id: holiday_id\n            name\n          }\n        }\n      }",e={objects:this.holiday},i.prev=2,this.loading=!0,i.next=6,this.$gql(t,e,{role:"administrator"});case 6:n=i.sent,a=u()(n.insert.holidays,1),o=a[0],l=o.id,r=o.name,this.$q.notify({icon:"mdi-check",color:"positive",message:"Tiempo de Vida ".concat(r," Creado Exitosamente")}),this.$router.push("/holiday/".concat(l)),i.next=18;break;case 15:i.prev=15,i.t0=i["catch"](2),this.$gql.handleError(i.t0);case 18:return i.prev=18,this.loading=!1,i.finish(18);case 21:case"end":return i.stop()}},i,this,[[2,15,18,21]])}));function t(){return i.apply(this,arguments)}return t}()}}),p=h,f=e("2877"),y=Object(f["a"])(p,d,c,!1,null,null,null),b=y.exports,z=e("7eb4"),g={name:"Holidays",components:{CreateHoliday:b,DialogWindow:z["a"]},data:function(){return{showCreateHolidayDialog:!1,loading:!1,holidays:[]}},methods:{loadHolidays:function(){var i=r()(s.a.mark(function i(){var t,e,n,a;return s.a.wrap(function(i){while(1)switch(i.prev=i.next){case 0:return t="query {\n        holidays: calendar_holiday {\n          holiday_id\n          name\n          date\n        }\n      }",e={},i.prev=2,this.loading=!0,i.next=6,this.$gql(t,e,{role:"administrator"});case 6:n=i.sent,a=n.holidays,this.holidays=a,i.next=14;break;case 11:i.prev=11,i.t0=i["catch"](2),this.$gql.handleError(i.t0);case 14:return i.prev=14,this.loading=!1,i.finish(14);case 17:case"end":return i.stop()}},i,this,[[2,11,14,17]])}));function t(){return i.apply(this,arguments)}return t}()},mounted:function(){this.loadHolidays()}},w=g,v=Object(f["a"])(w,n,a,!1,null,null,null);t["default"]=v.exports},"5fa6":function(i,t,e){"use strict";var n=e("4e53"),a=e.n(n);a.a},"7eb4":function(i,t,e){"use strict";var n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("q-dialog",{attrs:{value:i.value,maximized:i.maximized&&!i.minimized.state,persistent:"",seamless:i.minimized.state,position:i.minimized.state?"bottom":"standard","content-class":i.minimized.state?"dialog-window-minimized q-pa-none":null,"transition-hide":i.minimized.state?"slide-down":"scale"},on:{input:i.update,hide:i.reset}},[i.minimized.state?e("q-bar",{staticClass:"bg-primary text-white cursor-pointer rounded-borders overflow-hidden ellipsis",style:"width: 250px; margin-left: "+250*(null===i.minimized.slot?0:i.minimized.slot)+"px;",on:{click:i.restore}},[e("div",{staticClass:"ellipsis"},[i._v("\n      "+i._s(i.title)+"\n    ")]),e("q-space"),e("q-btn-group",{attrs:{flat:""}},[e("q-btn",{staticClass:"window-minimize",attrs:{flat:"",icon:"mdi-window-minimize",dense:"",disable:i.minimized.state}}),e("q-btn",{attrs:{flat:"",dense:"",icon:"mdi-window-"+(i.maximized?"maximize":"restore")}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"mdi-close"},on:{click:function(i){i.stopPropagation(),i.preventDefault()}}})],1)],1):[e("div",{staticClass:"bg-white",style:i.maximized?"":"max-width: none; min-width: 560px"},[e("q-bar",{staticClass:"bg-primary text-white"},[e("div",{staticClass:"ellipsis"},[i._v("\n          "+i._s(i.title)+"\n        ")]),e("q-space"),e("q-btn",{staticClass:"window-minimize",attrs:{flat:"",dense:"",icon:"mdi-window-minimize"},on:{click:i.minimize}}),e("q-btn",{attrs:{flat:"",dense:"",icon:"mdi-window-"+(i.maximized?"restore":"maximize")},on:{click:i.toggle}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"mdi-close"}})],1),e("main",{staticClass:"scroll",style:i.maximized?"max-height: calc(100vh - 32px);":"max-height: calc(100vh - 80px);"},[i._t("default")],2)],1)]],2)},a=[],o=(e("6762"),e("2fdb"),e("4db1")),s=e.n(o),l={name:"DialogWindow",props:{title:{type:String,default:""},value:{type:Boolean,required:!0}},data:function(){return{minimized:{state:!1,slots:[],slot:null},maximized:!1}},computed:{toggleIcon:function(){return this.minimized.state?this.maximized?"maximize":"restore":this.maximized?"restore":"maximize"},nextSlot:function(){var i=this;return Math.min.apply(Math,s()(this.minimized.slots.map(function(i,t){return t}).filter(function(t){return!i.minimized.slots.includes(t)})).concat([this.minimized.slots.length]))}},methods:{unbindSlot:function(){this.$root.$emit("DIALOG_WINDOW_RESTORED",this.minimized.slot),this.minimized.slot=null},bindSlot:function(){this.minimized.slot=this.nextSlot,this.$root.$emit("DIALOG_WINDOW_MINIMIZED",this.minimized.slot)},onBindSlot:function(i){this.minimized.slots.push(i)},onUnbindSlot:function(i){this.minimized.slots=this.minimized.slots.filter(function(t){return t!==i})},reset:function(){this.maximized=!1,this.minimizedId=0,null!==this.minimized.slot&&this.unbindSlot(),this.minimized.state=!1},minimize:function(){this.bindSlot(),this.minimized.state=!0},restore:function(){this.minimized.state=!1,this.unbindSlot()},toggle:function(){this.minimized.state?this.restore():this.maximized=!this.maximized},update:function(i){this.$emit("input",i)}},created:function(){this.$root.$on("DIALOG_WINDOW_MINIMIZED",this.onBindSlot),this.$root.$on("DIALOG_WINDOW_RESTORED",this.onUnbindSlot)},beforeDestroy:function(){null!==this.minimized.slot&&this.unbindSlot(),this.$root.$off("DIALOG_WINDOW_MINIMIZED",this.onBindSlot),this.$root.$off("DIALOG_WINDOW_RESTORED",this.onUnbindSlot)}},r=l,d=(e("5fa6"),e("2877")),c=Object(d["a"])(r,n,a,!1,null,null,null);t["a"]=c.exports},e916:function(i,t,e){t=i.exports=e("24fb")(!1),t.push([i.i,".q-btn.window-minimize .q-icon:before{margin-top:45%;height:45%}.q-dialog.dialog-window-minimized>.q-dialog__inner{justify-content:left}",""])}}]);