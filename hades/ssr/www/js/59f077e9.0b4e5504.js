(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["59f077e9"],{4917:function(e,t,n){"use strict";var i=n("cb7c"),r=n("9def"),a=n("0390"),l=n("5f1b");n("214f")("match",1,function(e,t,n,s){return[function(n){var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=i(e),o=String(this);if(!c.global)return l(c,o);var u=c.unicode;c.lastIndex=0;var d,m=[],p=0;while(null!==(d=l(c,o))){var h=String(d[0]);m[p]=h,""===h&&(c.lastIndex=a(o,r(c.lastIndex),u)),p++}return 0===p?null:m}]})},"804b":function(e,t,n){"use strict";var i=n("d76c"),r=n.n(i);r.a},d76c:function(e,t,n){var i=n("ead4");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("499e").default;r("7fe8f5f4",i,!1,{sourceMap:!1})},e57e:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",[e.page?n("dynamic-page",{attrs:{page:e.page}},e._l(e.page.sections,function(t,i){return n("dynamic-section",{key:"section_"+i,attrs:{section:t}},e._l(t.elements,function(e,t){return n("dynamic-element",{key:"element_"+t,attrs:{element:e}})}),1)}),1):e._e(),n("q-inner-loading",{attrs:{showing:!e.page}},[n("q-spinner")],1)],1)},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dynamic-page"},[n("div",{staticClass:"q-gutter-md q-pa-md"},[e._t("editor"),e._t("default")],2)])},l=[],s={name:"DynamicPage",props:{page:{type:Object,required:!0}}},c=s,o=(n("804b"),n("2877")),u=Object(o["a"])(c,a,l,!1,null,null,null),d=u.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e._t("editor"),n("div",{staticClass:"row wrap q-col-gutter-md"},[e._t("default")],2)],2)},p=[],h={name:"DynamicSection",props:{section:{type:Object,required:!0}}},f=h,v=Object(o["a"])(f,m,p,!1,null,null,null),g=v.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.elementClass},[n("q-card",{staticClass:"overflow-hidden rounded-borders"},[e._t("editor"),n("div",{class:{"cursor-pointer":e.hasLink},on:{click:e.handleClick}},[e.$i18n(e.element,"image")?n("q-img",{attrs:{src:e.$img.src(e.$i18n(e.element,"image").image_id),srcset:e.$img.srcset(e.$i18n(e.element,"image")),sizes:e.imageSizes,placeholder:e.$i18n(e.element,"image").placeholder}},[e.$i18n(e.element,"caption")?n("div",{staticClass:"absolute-bottom text-subtitle2 text-center"},[e._v("\n          "+e._s(e.$i18n(e.element,"caption"))+"\n          "),e.hasLink?n("q-icon",{attrs:{name:"mdi-forward"}}):e._e()],1):e._e()]):e._e(),e.$i18n(e.element,"title")||e.$i18n(e.element,"subtitle")?n("q-card-section",[e.$i18n(e.element,"title")?n("div",{staticClass:"text-h6 text-primary"},[e._v(e._s(e.$i18n(e.element,"title")))]):e._e(),e.$i18n(e.element,"subtitle")?n("div",{staticClass:"text-subtitle2 text-accent"},[e._v(e._s(e.$i18n(e.element,"subtitle")))]):e._e()]):e._e(),e.$i18n(e.element,"body")?n("q-card-section",[n("div",{domProps:{innerHTML:e._s(e.$i18n(e.element,"body"))}})]):e._e()],1)],2)],1)},b=[],w=(n("4917"),n("f3e3")),$=n.n(w),x=n("0967"),y=n("2b0e"),k=function(e,t){var n=window.open;if(!0===x["a"].is.cordova){if(void 0!==cordova&&void 0!==cordova.InAppBrowser&&void 0!==cordova.InAppBrowser.open)n=cordova.InAppBrowser.open;else if(void 0!==navigator&&void 0!==navigator.app)return navigator.app.loadUrl(e,{openExternal:!0})}else if(void 0!==y["a"].prototype.$q.electron)return y["a"].prototype.$q.electron.shell.openExternal(e);var i=n(e,"_blank");if(i)return i.focus(),i;t&&t()},q={name:"DynamicElement",props:{element:{type:Object,required:!0}},computed:{hasLink:function(){return null!==this.element.internal_link||(null!==this.element.external_link||null!==this.element.listing_link)},imageSizes:function(){switch(this.element.size_id){case"xl":return"100vw";case"lg":return"80vw";case"md":return"50vw";case"sm":return"33vw";case"xs":return"25vw";default:return""}},elementClass:function(){switch(this.element.size_id){case"xl":return"col-12";case"lg":return"col-12 col-md-8";case"md":return"col-12 col-sm-6";case"sm":return"col-12 col-sm-6 col-md-4";case"xs":return"col-6 col-sm-3";default:return""}}},methods:{handleClick:function(){if(null!==this.element.internal_link){var e=this.$route.fullPath.match(/^\/website\/(editor|preview)/),t=$()(e,2),n=t[1];this.$router.push("/website/".concat(n,"/").concat(this.element.internal_link))}else null!==this.element.external_link?k(this.element.external_link):null!==this.element.listing_link&&this.$router.push("/listing/".concat(this.element.listing_link))}}},C=q,E=Object(o["a"])(C,_,b,!1,null,null,null),D=E.exports,O={name:"DynamicWebsite",components:{DynamicPage:d,DynamicSection:g,DynamicElement:D},props:{path:{type:String,required:!1,default:""}},watch:{$route:function(e,t){this.$store.dispatch("website/LOAD_PAGE",{path:e.params.path})}},computed:{page:function(){return this.$store.state.website.page}},methods:{},preFetch:function(e){var t=e.store,n=e.currentRoute;e.redirect;return console.log("fetching"),t.dispatch("website/LOAD_PAGE",{path:n.params.path})}},S=O,j=Object(o["a"])(S,i,r,!1,null,null,null);t["default"]=j.exports},ead4:function(e,t,n){t=e.exports=n("24fb")(!1),t.push([e.i,".dynamic-page{margin:0 auto;max-width:992px}",""])}}]);